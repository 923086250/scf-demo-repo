component: scf
name: ap-guangzhou_default_unpack_to_cos
org: app
app: unpack_to_cos
stage: dev
inputs:
  name: unpack_to_cos
  src: ./
  description: >-
    本範例通過配置COS觸發，上傳到COS的壓縮包，使用SCF下載并本地解壓，支援中文欄位解壓，并把解壓後的文件上傳到COS另一個targetBucket環境變量指定的儲存桶中，支援如下壓縮格式：ZIP,
    RAR, 7Z, BZIP2, GZIP, TAR, XZ
  handler: unpack_to_cos.main_handler
  runtime: Python3.6
  namespace: default
  region: ap-guangzhou
  memorySize: 128
  timeout: 900
  events:
     - cos: # cos觸發器
        name: # input cosname.cos.region.myqcloud.com  //e.g. xxx.cos.ap-chengdu.myqcloud.com
        parameters:
          bucket: # input cosname.cos.region.myqcloud.com  //e.g. xxx.cos.ap-chengdu.myqcloud.com
          filter:
            prefix: 
            suffix: 
          events: cos:ObjectCreated:*
          enable: true